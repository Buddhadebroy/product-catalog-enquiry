(()=>{"use strict";const e=window.React,t=window.wp.blocks,o=window.wp.blockEditor;(0,t.registerBlockType)("woocommerce-catalog-enquiry/quote-button",{title:"Quote Button",icon:"button",category:"widgets",edit(){const t=(0,o.useBlockProps)();return(0,e.createElement)("div",{...t},(0,e.createElement)("button",{className:"add-request-quote-button"},"Add to Quote"))},save:()=>(0,e.createElement)("div",null,(0,e.createElement)("button",{className:"add-request-quote-button"},"Add to Quote"),(0,e.createElement)("div",{className:"quote-message-container"}))}),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".add-request-quote-button");e&&e.addEventListener("click",(function(e){e.preventDefault(),console.log("second");const t=document.querySelector('[data-block-name="woocommerce/single-product"]'),o=t?t.dataset.productId:null;console.log(o);const n=document.querySelector(".quantity .qty"),c=n?n.value:1,u=new URLSearchParams({action:"quote_added_in_list",product_id:o,quantity:c,quote_action:"add_item"});fetch(quote_button.ajaxurl,{method:"POST",body:u}).then((e=>e.json())).then((e=>{console.log("Response:",e.message);const t=document.querySelector(".quote-message-container");t&&(t.textContent=e.message)})).catch((e=>{console.error("Error:",e)}))}))}))})();